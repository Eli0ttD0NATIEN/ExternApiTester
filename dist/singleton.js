"use strict";function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var ValidateFile = require('./validateFiles');var
SingletonInstance =
function SingletonInstance(config, _type) {var _this = this;_classCallCheck(this, SingletonInstance);_defineProperty(this, "getInstance",



  function (type) {
    return {
      'step': SingletonInstance.stepInstance,
      'serie': SingletonInstance.serieInstance }[
    type];
  });_defineProperty(this, "createInstance",
  function (type) {
    var instanceFactory = {
      'step': !SingletonInstance.stepInstance ? SingletonInstance.stepInstance = new ValidateFile(_this.config, 'stepFileSchema.json') : null,
      'serie': !SingletonInstance.serieInstance ? SingletonInstance.serieInstance = new ValidateFile(_this.config, 'serieFileSchema.json') : null }[
    type];
    return _this.getInstance(type);
  });_defineProperty(this, "destroyInstance",
  function (type) {
    var destroy = {
      'step': SingletonInstance.stepInstance ? SingletonInstance.stepInstance = null : null,
      'serie': SingletonInstance.serieInstance ? SingletonInstance.serieInstance = null : null }[
    type];
  });this.config = config;this.createInstance(_type);};

module.exports = SingletonInstance;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zaW5nbGV0b24uanMiXSwibmFtZXMiOlsiVmFsaWRhdGVGaWxlIiwicmVxdWlyZSIsIlNpbmdsZXRvbkluc3RhbmNlIiwiY29uZmlnIiwidHlwZSIsInN0ZXBJbnN0YW5jZSIsInNlcmllSW5zdGFuY2UiLCJpbnN0YW5jZUZhY3RvcnkiLCJnZXRJbnN0YW5jZSIsImRlc3Ryb3kiLCJjcmVhdGVJbnN0YW5jZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI0V0FBQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUE1QixDO0FBQ01DLGlCO0FBQ0YsMkJBQVlDLE1BQVosRUFBb0JDLEtBQXBCLEVBQXlCOzs7O0FBSVgsWUFBQ0EsSUFBRCxFQUFVO0FBQ3BCLFdBQU87QUFDSCxjQUFTRixpQkFBaUIsQ0FBQ0csWUFEeEI7QUFFSCxlQUFVSCxpQkFBaUIsQ0FBQ0ksYUFGekI7QUFHTEYsSUFBQUEsSUFISyxDQUFQO0FBSUgsR0FUd0I7QUFVUixZQUFDQSxJQUFELEVBQVU7QUFDdkIsUUFBSUcsZUFBZSxHQUFHO0FBQ2xCLGNBQVUsQ0FBQ0wsaUJBQWlCLENBQUNHLFlBQXBCLEdBQW9DSCxpQkFBaUIsQ0FBQ0csWUFBbEIsR0FBaUMsSUFBSUwsWUFBSixDQUFpQixLQUFJLENBQUNHLE1BQXRCLEVBQThCLHFCQUE5QixDQUFyRSxHQUE0SCxJQURuSDtBQUVsQixlQUFXLENBQUNELGlCQUFpQixDQUFDSSxhQUFwQixHQUFxQ0osaUJBQWlCLENBQUNJLGFBQWxCLEdBQWtDLElBQUlOLFlBQUosQ0FBaUIsS0FBSSxDQUFDRyxNQUF0QixFQUE4QixzQkFBOUIsQ0FBdkUsR0FBK0gsSUFGdkg7QUFHcEJDLElBQUFBLElBSG9CLENBQXRCO0FBSUEsV0FBTyxLQUFJLENBQUNJLFdBQUwsQ0FBaUJKLElBQWpCLENBQVA7QUFDSCxHQWhCd0I7QUFpQlAsWUFBQ0EsSUFBRCxFQUFVO0FBQ3hCLFFBQUlLLE9BQU8sR0FBRztBQUNWLGNBQVVQLGlCQUFpQixDQUFDRyxZQUFuQixHQUFtQ0gsaUJBQWlCLENBQUNHLFlBQWxCLEdBQWlDLElBQXBFLEdBQTJFLElBRDFFO0FBRVYsZUFBWUgsaUJBQWlCLENBQUNJLGFBQW5CLEdBQW9DSixpQkFBaUIsQ0FBQ0ksYUFBbEIsR0FBa0MsSUFBdEUsR0FBNkUsSUFGOUU7QUFHWkYsSUFBQUEsSUFIWSxDQUFkO0FBSUgsR0F0QndCLEVBQ3JCLEtBQUtELE1BQUwsR0FBY0EsTUFBZCxDQUNBLEtBQUtPLGNBQUwsQ0FBb0JOLEtBQXBCLEVBQ0gsQzs7QUFxQkxPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlYsaUJBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVmFsaWRhdGVGaWxlID0gcmVxdWlyZSgnLi92YWxpZGF0ZUZpbGVzJyk7XHJcbmNsYXNzIFNpbmdsZXRvbkluc3RhbmNle1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCB0eXBlKXtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLmNyZWF0ZUluc3RhbmNlKHR5cGUpO1xyXG4gICAgfVxyXG4gICAgZ2V0SW5zdGFuY2UgPSAodHlwZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdzdGVwJyA6IFNpbmdsZXRvbkluc3RhbmNlLnN0ZXBJbnN0YW5jZSxcclxuICAgICAgICAgICAgJ3NlcmllJyA6IFNpbmdsZXRvbkluc3RhbmNlLnNlcmllSW5zdGFuY2VcclxuICAgICAgICB9W3R5cGVdXHJcbiAgICB9XHJcbiAgICBjcmVhdGVJbnN0YW5jZSA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlRmFjdG9yeSA9IHtcclxuICAgICAgICAgICAgJ3N0ZXAnIDogKCFTaW5nbGV0b25JbnN0YW5jZS5zdGVwSW5zdGFuY2UpID8gU2luZ2xldG9uSW5zdGFuY2Uuc3RlcEluc3RhbmNlID0gbmV3IFZhbGlkYXRlRmlsZSh0aGlzLmNvbmZpZywgJ3N0ZXBGaWxlU2NoZW1hLmpzb24nKSA6IG51bGwsXHJcbiAgICAgICAgICAgICdzZXJpZScgOiAoIVNpbmdsZXRvbkluc3RhbmNlLnNlcmllSW5zdGFuY2UpID8gU2luZ2xldG9uSW5zdGFuY2Uuc2VyaWVJbnN0YW5jZSA9IG5ldyBWYWxpZGF0ZUZpbGUodGhpcy5jb25maWcsICdzZXJpZUZpbGVTY2hlbWEuanNvbicpIDogbnVsbFxyXG4gICAgICAgIH1bdHlwZV07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UodHlwZSk7XHJcbiAgICB9XHJcbiAgICBkZXN0cm95SW5zdGFuY2UgPSAodHlwZSkgPT4ge1xyXG4gICAgICAgIGxldCBkZXN0cm95ID0ge1xyXG4gICAgICAgICAgICAnc3RlcCcgOiAoU2luZ2xldG9uSW5zdGFuY2Uuc3RlcEluc3RhbmNlKSA/IFNpbmdsZXRvbkluc3RhbmNlLnN0ZXBJbnN0YW5jZSA9IG51bGwgOiBudWxsLFxyXG4gICAgICAgICAgICAnc2VyaWUnIDogIChTaW5nbGV0b25JbnN0YW5jZS5zZXJpZUluc3RhbmNlKSA/IFNpbmdsZXRvbkluc3RhbmNlLnNlcmllSW5zdGFuY2UgPSBudWxsIDogbnVsbFxyXG4gICAgICAgIH1bdHlwZV1cclxuICAgIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IFNpbmdsZXRvbkluc3RhbmNlOyJdfQ==