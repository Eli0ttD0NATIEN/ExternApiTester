"use strict";function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var ValidateFile = require('./validateFiles');var
SingletonFileValidator =
function SingletonFileValidator(config, _type) {var _this = this;_classCallCheck(this, SingletonFileValidator);_defineProperty(this, "getInstance",



  function (type) {
    return {
      'step': SingletonFileValidator.stepInstance,
      'serie': SingletonFileValidator.serieInstance }[
    type];
  });_defineProperty(this, "createInstance",
  function (type) {
    var instanceFactory = {
      'step': !SingletonFileValidator.stepInstance ? SingletonFileValidator.stepInstance = new ValidateFile(_this.config, 'stepFileSchema.json') : null,
      'serie': !SingletonFileValidator.serieInstance ? SingletonFileValidator.serieInstance = new ValidateFile(_this.config, 'serieFileSchema.json') : null }[
    type];
    return _this.getInstance(type);
  });_defineProperty(this, "destroyInstance",
  function (type) {
    var destroy = {
      'step': SingletonFileValidator.stepInstance ? SingletonFileValidator.stepInstance = null : null,
      'serie': SingletonFileValidator.serieInstance ? SingletonFileValidator.serieInstance = null : null }[
    type];
  });this.config = config;this.createInstance(_type);};

module.exports = SingletonFileValidator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zaW5nbGV0b25GaWxlVmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIlZhbGlkYXRlRmlsZSIsInJlcXVpcmUiLCJTaW5nbGV0b25GaWxlVmFsaWRhdG9yIiwiY29uZmlnIiwidHlwZSIsInN0ZXBJbnN0YW5jZSIsInNlcmllSW5zdGFuY2UiLCJpbnN0YW5jZUZhY3RvcnkiLCJnZXRJbnN0YW5jZSIsImRlc3Ryb3kiLCJjcmVhdGVJbnN0YW5jZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI0V0FBQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUE1QixDO0FBQ01DLHNCO0FBQ0YsZ0NBQVlDLE1BQVosRUFBb0JDLEtBQXBCLEVBQXlCOzs7O0FBSVgsWUFBQ0EsSUFBRCxFQUFVO0FBQ3BCLFdBQU87QUFDSCxjQUFTRixzQkFBc0IsQ0FBQ0csWUFEN0I7QUFFSCxlQUFVSCxzQkFBc0IsQ0FBQ0ksYUFGOUI7QUFHTEYsSUFBQUEsSUFISyxDQUFQO0FBSUgsR0FUd0I7QUFVUixZQUFDQSxJQUFELEVBQVU7QUFDdkIsUUFBSUcsZUFBZSxHQUFHO0FBQ2xCLGNBQVUsQ0FBQ0wsc0JBQXNCLENBQUNHLFlBQXpCLEdBQXlDSCxzQkFBc0IsQ0FBQ0csWUFBdkIsR0FBc0MsSUFBSUwsWUFBSixDQUFpQixLQUFJLENBQUNHLE1BQXRCLEVBQThCLHFCQUE5QixDQUEvRSxHQUFzSSxJQUQ3SDtBQUVsQixlQUFXLENBQUNELHNCQUFzQixDQUFDSSxhQUF6QixHQUEwQ0osc0JBQXNCLENBQUNJLGFBQXZCLEdBQXVDLElBQUlOLFlBQUosQ0FBaUIsS0FBSSxDQUFDRyxNQUF0QixFQUE4QixzQkFBOUIsQ0FBakYsR0FBeUksSUFGakk7QUFHcEJDLElBQUFBLElBSG9CLENBQXRCO0FBSUEsV0FBTyxLQUFJLENBQUNJLFdBQUwsQ0FBaUJKLElBQWpCLENBQVA7QUFDSCxHQWhCd0I7QUFpQlAsWUFBQ0EsSUFBRCxFQUFVO0FBQ3hCLFFBQUlLLE9BQU8sR0FBRztBQUNWLGNBQVVQLHNCQUFzQixDQUFDRyxZQUF4QixHQUF3Q0gsc0JBQXNCLENBQUNHLFlBQXZCLEdBQXNDLElBQTlFLEdBQXFGLElBRHBGO0FBRVYsZUFBWUgsc0JBQXNCLENBQUNJLGFBQXhCLEdBQXlDSixzQkFBc0IsQ0FBQ0ksYUFBdkIsR0FBdUMsSUFBaEYsR0FBdUYsSUFGeEY7QUFHWkYsSUFBQUEsSUFIWSxDQUFkO0FBSUgsR0F0QndCLEVBQ3JCLEtBQUtELE1BQUwsR0FBY0EsTUFBZCxDQUNBLEtBQUtPLGNBQUwsQ0FBb0JOLEtBQXBCLEVBQ0gsQzs7QUFxQkxPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlYsc0JBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVmFsaWRhdGVGaWxlID0gcmVxdWlyZSgnLi92YWxpZGF0ZUZpbGVzJyk7XHJcbmNsYXNzIFNpbmdsZXRvbkZpbGVWYWxpZGF0b3J7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHR5cGUpe1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlSW5zdGFuY2UodHlwZSk7XHJcbiAgICB9XHJcbiAgICBnZXRJbnN0YW5jZSA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ3N0ZXAnIDogU2luZ2xldG9uRmlsZVZhbGlkYXRvci5zdGVwSW5zdGFuY2UsXHJcbiAgICAgICAgICAgICdzZXJpZScgOiBTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnNlcmllSW5zdGFuY2VcclxuICAgICAgICB9W3R5cGVdXHJcbiAgICB9XHJcbiAgICBjcmVhdGVJbnN0YW5jZSA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlRmFjdG9yeSA9IHtcclxuICAgICAgICAgICAgJ3N0ZXAnIDogKCFTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnN0ZXBJbnN0YW5jZSkgPyBTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnN0ZXBJbnN0YW5jZSA9IG5ldyBWYWxpZGF0ZUZpbGUodGhpcy5jb25maWcsICdzdGVwRmlsZVNjaGVtYS5qc29uJykgOiBudWxsLFxyXG4gICAgICAgICAgICAnc2VyaWUnIDogKCFTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnNlcmllSW5zdGFuY2UpID8gU2luZ2xldG9uRmlsZVZhbGlkYXRvci5zZXJpZUluc3RhbmNlID0gbmV3IFZhbGlkYXRlRmlsZSh0aGlzLmNvbmZpZywgJ3NlcmllRmlsZVNjaGVtYS5qc29uJykgOiBudWxsXHJcbiAgICAgICAgfVt0eXBlXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSh0eXBlKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3lJbnN0YW5jZSA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgbGV0IGRlc3Ryb3kgPSB7XHJcbiAgICAgICAgICAgICdzdGVwJyA6IChTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnN0ZXBJbnN0YW5jZSkgPyBTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnN0ZXBJbnN0YW5jZSA9IG51bGwgOiBudWxsLFxyXG4gICAgICAgICAgICAnc2VyaWUnIDogIChTaW5nbGV0b25GaWxlVmFsaWRhdG9yLnNlcmllSW5zdGFuY2UpID8gU2luZ2xldG9uRmlsZVZhbGlkYXRvci5zZXJpZUluc3RhbmNlID0gbnVsbCA6IG51bGxcclxuICAgICAgICB9W3R5cGVdXHJcbiAgICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBTaW5nbGV0b25GaWxlVmFsaWRhdG9yOyJdfQ==